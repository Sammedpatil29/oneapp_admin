<div class="calculator">

  <h2>üçΩÔ∏èCloud Kitchen <br> Registration Charge Calculator</h2>

  <!-- FSSAI -->
  <label>
    <input type="checkbox" [(ngModel)]="needFssai" (ngModelChange)="resetTotal()">
    Apply for FSSAI Licence
  </label>

  <div *ngIf="needFssai" class="option-box">
    <label>Number of years:</label>
    <select [(ngModel)]="fssaiYears" (ngModelChange)="resetTotal()">
      <option *ngFor="let y of [1,2,3,4,5]" [value]="y">{{y}} year(s)</option>
    </select>
  </div>

  <hr>

  <!-- ZOMATO -->
  <label>
    <input type="checkbox" [(ngModel)]="registerZomato" (ngModelChange)="resetTotal()">
    Register for Zomato (‚Çπ1200)
  </label>

  <div *ngIf="registerZomato" class="option-box">
    <p>Zomato Payment Option:</p>
    <label>
      <input type="radio" name="zomatoPay" [(ngModel)]="zomatoPayOption" value="now" 
             (ngModelChange)="resetTotal()"> 
      Pay Now (‚Çπ1200)
    </label>
    <label>
      <input type="radio" name="zomatoPay" [(ngModel)]="zomatoPayOption" value="later" 
             (ngModelChange)="resetTotal()"> 
      Pay Later (‚Çπ0 now)
    </label>
  </div>

  <hr>

  <!-- SWIGGY -->
  <label>
    <input type="checkbox" [(ngModel)]="registerSwiggy" (ngModelChange)="resetTotal()">
    Register for Swiggy (‚Çπ1200)
  </label>

  <div *ngIf="registerSwiggy" class="option-box">
    <p>Swiggy Payment Option:</p>
    <label>
      <input type="radio" name="swiggyPay" [(ngModel)]="swiggyPayOption" value="600" 
             (ngModelChange)="resetTotal()"> 
      Pay ‚Çπ600 now
    </label>
    <label>
      <input type="radio" name="swiggyPay" [(ngModel)]="swiggyPayOption" value="1200" 
             (ngModelChange)="resetTotal()"> 
      Pay full ‚Çπ1200 now
    </label>
  </div>

  <hr>

  <!-- MAGICPIN -->
  <label>
    <input type="checkbox" [(ngModel)]="registerMagicpin" (ngModelChange)="resetTotal()">
    Register for Magicpin (FREE)
  </label>

  <hr>

  <button (click)="calculateTotal()">Calculate Total</button>

  <h3>Total Amount to Pay Now: ‚Çπ{{ totalAmount }}</h3>

  <!-- PRICE BREAKDOWN -->
  <div class="breakdown-box" *ngIf="totalAmount > 0">

    <h4>Price Breakdown</h4>
    <ul>

      <li *ngIf="registerZomato">
        Zomato:
        <strong>{{ zomatoPayOption === 'now' ? '‚Çπ1200' : '‚Çπ0 (Pay Later)' }}</strong>
      </li>

      <li *ngIf="registerSwiggy">
        Swiggy:
        <strong>{{ swiggyPayOption === '600' ? '‚Çπ600' : '‚Çπ1200' }}</strong>
      </li>

      <li *ngIf="registerMagicpin">
        Magicpin: <strong>‚Çπ0 (Free)</strong>
      </li>

      <li *ngIf="needFssai">
        FSSAI Govt Fee ({{ fssaiYears }} years):
        <strong>‚Çπ{{ 100 * fssaiYears }}</strong>
      </li>

      <!-- SERVICE CHARGE -->
      <li *ngIf="registerZomato || registerSwiggy || registerMagicpin || needFssai">
        One-time Service Charge:
        <strong>‚Çπ1500</strong>

        <ul class="sub-details ms-4">
          <li><span class="text-success">‚úî</span> Complete Documentation Handling</li>
          <li><span class="text-success">‚úî</span> Partner Registration (Zomato/Swiggy/Magicpin)</li>
          <li><span class="text-success">‚úî</span> Menu Preparation & Price setup</li>
          <li><span class="text-success">‚úî</span> FSSAI Application Filing & Support</li>
          <li><span class="text-success">‚úî</span> Follow-up & Status Tracking</li>
          <li><span class="text-success">‚úî</span> Customer Support Until Approval</li>
        </ul>
      </li>

      <hr>

      <li class="total-line">
        Final Total: <strong>‚Çπ{{ totalAmount }}</strong>
      </li>

    </ul>
  </div>

</div>
